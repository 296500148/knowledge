# SSL/TSL

## 术语

* 非对称加密(公钥加密)[^1]:运算耗时较快

* 对称加密[^2]:不太安全

## http传输存在的风险
* 窃听风险（eavesdropping）：第三方可以获知通信内容。

* 篡改风险（tampering）：第三方可以修改通信内容。

* 冒充风险（pretending）：第三方可以冒充他人身份参与通信。

## 希望做到的通信

* 所有信息都是加密传播，第三方无法窃听。

* 具有校验机制，一旦被篡改，通信双方会立刻发现。

* 配备身份证书，防止身份被冒充。

## https中的s代表什么

指SSL/TSL

SSL:NetScape公司设计

TSL:互联网标准化组织ISOC基于SSL,设计了TSL

TLS 1.0通常被标示为SSL 3.1，TLS 1.1为SSL 3.2，TLS 1.2为SSL 3.3。

## 采取的策略

对称加密明显不太可靠,但是用非对称加密的话，运算量太大，速度不行。所以SSL/TSL采取的策略是<span style="color:red">利用非对称加密协商密钥，通信阶段采用对称加密。</span>

## 技术

### 公钥从何而来?

客户端向服务器要证书

证书包含:
* 一个公钥
* 名称
* 利用私钥加密的一段信息

### 如何保证公钥安全

发送利用公钥加密的信息给服务器

如果证书的公钥被篡改,那么服务器是无法解密的,通信也就无法继续。
所以解决了通信的一个风险:<span style="color:red">第三方可以冒充他人身份参与通信</span>

### 协商密钥

~关于密钥怎么生成简单说一下(不从事网络不宜了解过深):有客户端和服务器生成的共三个随机数一个生成一个密钥。~

有了前一步的身份验证，客户端就可以把对称加密的密钥利用证书里的公钥加密就可以了(因为只有拥有私钥的服务器才能解密得到这个密钥)

这样就解决了非对称加密速度较慢的问题。通信过程就可以使用对称加密了。解决:<span style="color:red">第三方可以获知通信内容</span>

### 如何防止篡改、捣乱

虽然不可获知通信内容,但依然可以对内容进行破坏。
校验方法:每次发送的内容都带上hash值,如果发现内容和其hash值不匹配则中断通信过程。解决:<span style="color:red">第三方可以修改通信内容</span>

[^1]:[非对称加密](https://baike.baidu.com/item/%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/9874417?fr=aladdin)

[^2]:[对称加密](https://baike.baidu.com/item/%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/2152944?fr=aladdin)